---
title: "Retrieving Projects and Datasets Using SDK"
description: "Learn how to retrieve all projects and datasets associated with a client in Labellerr using the SDK, including linked and unlinked datasets."
icon: database
---

### Retrieving All Projects for a Client

---

You can retrieve all projects associated with a specific client ID using the following method:

#### Example Usage:

```python Retrieve All Projects lines icon="folder-open" highlight={2,6,8-15}
from labellerr.client import LabellerrClient
from labellerr.core.projects import LabellerrProject
from labellerr.core.exceptions import LabellerrError

# Initialize the client with your API credentials
client = LabellerrClient(api_key, api_secret, client_id)

try:
    # Use static method to list all projects
    result = LabellerrProject.list_all_projects(client)

    # Check if projects were retrieved successfully
    if result and 'response' in result:
        projects = result['response']
        print(f"Found {len(projects)} projects:")
        for project in projects:
            print(f"- Project ID: {project.get('project_id')}")
            print(f"  Name: {project.get('project_name')}")
            print(f"  Type: {project.get('data_type')}")
except LabellerrError as e:
    print(f"Failed to retrieve projects: {str(e)}")
```

This method is useful when you need to:

*   List all projects for a client
*   Find specific project IDs
*   Check project statuses
*   Get an overview of client's work

The response includes detailed information about each project, including its ID, name, data type, and other relevant metadata.

---

### Retrieving All Datasets

---

You can retrieve both linked and unlinked datasets associated with a client using the following method:

#### Example Usage:

```python Retrieve All Datasets lines icon="database" highlight={2,6-7,10-18}
from labellerr.client import LabellerrClient
from labellerr.core.datasets import LabellerrDataset
from labellerr.core.exceptions import LabellerrError

# Initialize the client with your API credentials
client = LabellerrClient(api_key, api_secret, client_id)
data_type = 'image'
project_id = 'your_project_id'
scope = 'client'

try:
    # Create a dataset instance to access dataset methods
    dataset_helper = LabellerrDataset(client=client, dataset_id="any_valid_dataset_id")
    
    result = dataset_helper.get_all_datasets(
        client_id=client.client_id, 
        datatype=data_type, 
        project_id=project_id, 
        scope=scope
    )
    
    # Process datasets
    datasets = result["response"]["datasets"]
    print(f"Found {len(datasets)} datasets:")
    for dataset in datasets:
        print(f"- Dataset ID: {dataset.get('dataset_id')}")
        print(f"  Name: {dataset.get('name')}")
        print(f"  Description: {dataset.get('description')}")

except LabellerrError as e:
    print(f"Failed to retrieve datasets: {str(e)}")
```

This method is useful when you need to:

*   Get an overview of all available datasets
*   Find datasets that are linked to projects
*   Identify unlinked datasets that can be associated with new projects
*   Manage dataset organization and project associations

The response includes two lists:

*   `linked`: Datasets that are already associated with projects
*   `unlinked`: Datasets that are not yet associated with any project

Each dataset object contains detailed information including its ID, name, description, and other metadata.

---

### Retrieving Files from a Dataset

---

You can fetch all files from a specific dataset using the `fetch_files()` method:

#### Example Usage:

```python Fetch Files from Dataset lines icon="file" highlight={2,6-9}
from labellerr.client import LabellerrClient
from labellerr.core.datasets import LabellerrDataset
from labellerr.core.exceptions import LabellerrError

# Initialize the client with your API credentials
client = LabellerrClient(api_key, api_secret, client_id)

try:
    # Get dataset instance
    dataset = LabellerrDataset(client=client, dataset_id="your_dataset_id")
    
    # Fetch all files
    files = dataset.fetch_files()
    
    print(f"Dataset contains {len(files)} files:")
    for file in files:
        print(f"- File ID: {file.get('file_id')}")
        print(f"  File Name: {file.get('file_name')}")
        print(f"  Status: {file.get('status')}")
        
except LabellerrError as e:
    print(f"Failed to fetch files: {str(e)}")
```

This method is useful when you need to:

*   Get a list of all files in a dataset
*   Check file statuses before creating a project
*   Verify dataset contents
*   Build custom file processing workflows

---

### Working with Projects and Datasets

---

#### Get Project Information

```python Get Project Details lines icon="folder" highlight={2,6-10}
from labellerr.client import LabellerrClient
from labellerr.core.projects import LabellerrProject
from labellerr.core.exceptions import LabellerrError

# Initialize the client with your API credentials
client = LabellerrClient(api_key, api_secret, client_id)

try:
    # Get project instance
    project = LabellerrProject(client=client, project_id="your_project_id")
    
    # Access project properties
    print(f"Project ID: {project.project_id}")
    print(f"Data Type: {project.data_type}")
    print(f"Attached Datasets: {project.attached_datasets}")
    
except LabellerrError as e:
    print(f"Failed to retrieve project: {str(e)}")
```

#### Attach Datasets to a Project

```python Attach Datasets lines icon="link" highlight={9-11}
from labellerr.client import LabellerrClient
from labellerr.core.projects import LabellerrProject
from labellerr.core.exceptions import LabellerrError

client = LabellerrClient(api_key, api_secret, client_id)

try:
    project = LabellerrProject(client=client, project_id="your_project_id")
    
    # Attach a single dataset
    result = project.attach_dataset_to_project(dataset_id="dataset_id_to_attach")
    
    # Or attach multiple datasets at once
    # result = project.attach_dataset_to_project(dataset_ids=["dataset_1", "dataset_2"])
    
    print(f"Dataset(s) attached successfully: {result}")
    
except LabellerrError as e:
    print(f"Failed to attach dataset: {str(e)}")
```

#### Detach Datasets from a Project

```python Detach Datasets lines icon="unlink" highlight={9-11}
from labellerr.client import LabellerrClient
from labellerr.core.projects import LabellerrProject
from labellerr.core.exceptions import LabellerrError

client = LabellerrClient(api_key, api_secret, client_id)

try:
    project = LabellerrProject(client=client, project_id="your_project_id")
    
    # Detach a single dataset
    result = project.detach_dataset_from_project(dataset_id="dataset_id_to_detach")
    
    # Or detach multiple datasets at once
    # result = project.detach_dataset_from_project(dataset_ids=["dataset_1", "dataset_2"])
    
    print(f"Dataset(s) detached successfully: {result}")
    
except LabellerrError as e:
    print(f"Failed to detach dataset: {str(e)}")
```

<Note>
**Important:** When detaching datasets from a project, the method no longer requires `client_id` and `project_id` parameters as these are automatically derived from the project instance.
</Note>

---

### Bulk Assign Files

---

You can bulk assign multiple files to a new status in a project, optionally assigning them to a specific user.

#### Example Usage:

```python Bulk Assign Files lines icon="layer-group" highlight={9-13}
from labellerr.client import LabellerrClient
from labellerr.core.projects import LabellerrProject
from labellerr.core.exceptions import LabellerrError

client = LabellerrClient(api_key, api_secret, client_id)

try:
    project = LabellerrProject(client=client, project_id="your_project_id")
    
    # Bulk assign files to review status
    result = project.bulk_assign_files(
        file_ids=["file_id_1", "file_id_2", "file_id_3"],
        new_status="review",
        assign_to="reviewer@example.com"  # optional
    )
    
    print(f"Files assigned successfully: {result}")
    
except LabellerrError as e:
    print(f"Failed to bulk assign files: {str(e)}")
```

<Card title="Acceptable Status Values" icon="list">
| Status | Description |
|--------|-------------|
| `annotation` | Assign files for annotation |
| `review` | Assign files for review after annotation |
| `client_review` | Assign files for client review |
| `accepted` | Mark files as accepted |
| `rejected` | Mark files as rejected |
</Card>

This method is useful when you need to:

*   Move multiple files through your annotation workflow
*   Assign batches of files to specific team members
*   Automate file status transitions
*   Implement custom workflow automation

---

### Error Handling

---

The Labellerr SDK uses a custom exception class, `LabellerrError`, to indicate issues during API interactions. Always wrap your function calls in `try-except` blocks to gracefully handle errors.

#### Example:

```python Error Handling Example lines icon="exclamation-triangle" highlight={3-7}
from labellerr.core.exceptions import LabellerrError
from labellerr.core.projects import LabellerrProject

try:
    # Example function call
    project = LabellerrProject(client=client, project_id="project_id")
    datasets = project.attached_datasets
except LabellerrError as e:
    print(f"An error occurred: {str(e)}")
```

---

The Labellerr SDK is a fast and reliable solution for managing annotation workflows. Want to try it end-to-end? Refer to this [**Google Colab Cookbook**](https://colab.research.google.com/github/Labellerr/Hands-On-Learning-in-Computer-Vision/blob/main/SDK%20Tutorials/Labellerr_SDK_End_to_End_Annotation_Pipeline.ipynb) for a ready-to-run tutorial. For more related cookbooks and examples, please visit our repository: [Labellerr Hands-On Learning](https://github.com/Labellerr/Hands-On-Learning-in-Computer-Vision)
